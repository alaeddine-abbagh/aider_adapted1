 def encode_image(image_path):

        with open(image_path, "rb") as image_file:

            return base64.b64encode(image_file.read()).decode("utf-8")

 

    base64_image = encode_image("./ala.jpg")

    response = client.chat.completions.create(

        model=model,

        messages=[

            {

                "role": "system",

                "content": "You are an expert in information retrieval from images",

            },

            {

                "role": "user",

                "content": [

                    {"type": "text", "text": "extract the information in plain text"},

                    {

                        "type": "image_url",

                        "image_url": {"url": f"data:image/jpg;base64,{base64_image}"},

                    },

                ],

            },

        ],

    )

    print(response.choices[0].message.content)
